<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Search the Dawntasy Database</title>
  <style>
    /* GLOBAL STYLES */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #121212;
      color: #eee;
      overflow-x: hidden;
      padding: 20px;
    }
    h1, h2, p {
      text-align: center;
      margin-bottom: 20px;
    }
    /* MAIN MENU */
    #menu {
      text-align: center;
      padding: 40px;
    }
    #menu h1 {
      font-size: 3em;
      margin-bottom: 10px;
      color: #00ccff;
      text-shadow: 0 0 10px #00ccff;
      animation: glowTitle 2s infinite alternate;
    }
    @keyframes glowTitle {
      from { text-shadow: 0 0 10px #00ccff; }
      to { text-shadow: 0 0 20px #ffaf00; }
    }
    #menu p {
      font-size: 1.2em;
      margin-bottom: 30px;
    }
    #searchBar {
      position: relative;
      max-width: 600px;
      margin: 0 auto;
    }
    #searchInput {
      width: 100%;
      padding: 15px;
      font-size: 1.2em;
      border: 2px solid #00ccff;
      border-radius: 50px;
      background: #1e1e1e;
      color: #eee;
      outline: none;
    }
    #searchBtn {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
    }
    #searchBtn img {
      width: 40px;
      height: 40px;
      animation: spin 3s linear infinite;
    }
    @keyframes spin {
      from { transform: translateY(-50%) rotate(0deg); }
      to { transform: translateY(-50%) rotate(360deg); }
    }
    /* SEARCHING SCREEN */
    #searchingScreen {
      display: none;
      text-align: center;
      padding: 50px;
    }
    #searchingScreen h2 {
      font-size: 2em;
      margin-bottom: 20px;
    }
    .cosmic {
      position: relative;
      width: 200px;
      height: 200px;
      margin: 0 auto;
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 50%;
      overflow: hidden;
    }
    .cosmic .star {
      position: absolute;
      width: 6px;
      height: 6px;
      background: #fff;
      border-radius: 50%;
      opacity: 0.8;
      animation: orbit 5s linear infinite;
    }
    @keyframes orbit {
      from { transform: rotate(0deg) translateX(80px) rotate(0deg); }
      to { transform: rotate(360deg) translateX(80px) rotate(-360deg); }
    }
    /* RESULTS SCREEN */
    #resultsScreen {
      display: none;
      padding: 20px;
      background: #1e1e1e;
      border-radius: 10px;
      max-width: 800px;
      margin: 20px auto;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
    }
    #resultsScreen h2 { margin-bottom: 20px; }
    .resultEntry {
      border-bottom: 1px solid #333;
      padding: 10px 0;
      text-align: left;
    }
    .resultEntry:last-child { border-bottom: none; }
    /* TRANSITION BUTTON */
    button {
      cursor: pointer;
      padding: 10px 20px;
      font-size: 1em;
      border: none;
      border-radius: 5px;
      background: linear-gradient(45deg, #00ccff, #ffaf00);
      color: #fff;
      margin-top: 20px;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 10px rgba(255,255,255,0.5);
    }
  </style>
</head>
<body>

  <!-- MAIN MENU -->
  <div id="menu">
    <h1>Search the Dawntasy Database</h1>
    <p>What would you like to discover about Dawntasy?</p>
    <div id="searchBar">
      <input type="text" id="searchInput" placeholder="Enter a keyword...">
      <button id="searchBtn"><img src="https://via.placeholder.com/40?text=%F0%9F%94%8D" alt="Search"></button>
    </div>
  </div>

  <!-- SEARCHING SCREEN -->
  <div id="searchingScreen">
    <h2>Searching...</h2>
    <div class="cosmic">
      <!-- Several orbiting stars -->
      <div class="star" style="top:10%; left:50%; animation-duration:4s;"></div>
      <div class="star" style="top:70%; left:30%; animation-duration:6s;"></div>
      <div class="star" style="top:40%; left:80%; animation-duration:5s;"></div>
      <div class="star" style="top:20%; left:20%; animation-duration:7s;"></div>
      <div class="star" style="top:60%; left:60%; animation-duration:3s;"></div>
    </div>
  </div>

  <!-- RESULTS SCREEN -->
  <div id="resultsScreen">
    <h2>Search Results</h2>
    <div id="resultsContainer"></div>
    <button onclick="goBack()">Back to Search</button>
  </div>

  <script>
    /************************************************************
     * DAWNTASY DATABASE DATA
     ************************************************************/
    // Each entry has a title, keywords (an array of strings), and content.
    const dawntasyDB = [
      {
        title: "The Plain and Pale Clock",
        keywords: ["clock", "plain and pale clock", "time", "motif", "symbol", "fragile time", "plain clock"],
        content: "The Plain and Pale Clock is a recurring motif symbolizing the relentless march of time and the fragility of existence in Dawntasy. It haunts key moments and underscores the inevitable decay of all things."
      },
      {
        title: "Time's True Name",
        keywords: ["time's true name", "prologue", "prophecy", "secret", "dawn", "destiny", "time"],
        content: "Time's True Name is the enigmatic prologue that sets the stage for the Dawntasy saga—a tale of hidden truths, impending change, and the blurred lines between reality and destiny."
      },
      {
        title: "Yaee, the Vengeful Bear",
        keywords: ["yaee", "bear", "vengeance", "rebel", "main character", "hero", "revenge", "bear village", "character profile"],
        content: "Yaee is the passionate, vengeful bear whose heart burns for revenge after the destruction of Bear Village. His journey is filled with loss, raw emotion, and a relentless drive to overthrow tyranny."
      },
      {
        title: "Solus, the Lone Hermit",
        keywords: ["solus", "hermit", "mentor", "wise", "lone hermit", "guide", "character profile"],
        content: "Solus is the reclusive hermit whose wisdom and cryptic counsel guide Yaee through the shadows of Dawntasy. Once a respected sergeant, his fall from grace adds a layer of somber insight to the saga."
      },
      {
        title: "Time Smith and the TRL",
        keywords: ["time smith", "trl", "antagonist", "villain", "tyrant", "revelation", "complex villain", "savior", "character profile"],
        content: "Time Smith, the enigmatic leader of the LTR, is shrouded in mystery. Initially seen as the tyrant, his eventual revelation turns the narrative on its head, suggesting a redemptive, almost savior-like role."
      },
      {
        title: "The Invasion of Sepdet",
        keywords: ["sepdet", "invasion", "battle", "LTR", "rebellion", "conflict", "war", "epic battle"],
        content: "The Invasion of Sepdet is a fierce and chaotic battle where the forces of rebellion clash with the overwhelming might of LTR. This brutal conflict marks a turning point in the struggle for freedom."
      },
      {
        title: "The Rift",
        keywords: ["rift", "prophecy", "apocalypse", "destiny", "end of time", "cataclysm"],
        content: "The Rift is a mysterious, apocalyptic event prophesied throughout Dawntasy—a moment when fate, time, and destiny converge, threatening to unravel the very fabric of existence."
      },
      {
        title: "Unknown Town",
        keywords: ["unknown town", "ruins", "desolation", "ghost town", "lost town", "abandoned"],
        content: "Unknown Town stands as a haunting reminder of what once was—a desolate, crumbling city where the echoes of a forgotten past mingle with the chilling winds of tyranny."
      },
      {
        title: "Bear Village",
        keywords: ["bear village", "home", "family", "nostalgia", "loss", "origin", "village", "memory"],
        content: "Bear Village is the heart and soul of Dawntasy—a place of warmth, family, and cherished memories. Its destruction marks the catalyst for Yaee's burning quest for vengeance."
      },
      {
        title: "The Rebellion and Its Trials",
        keywords: ["rebellion", "time rebellion league", "TRL", "resistance", "uprising", "struggle", "freedom"],
        content: "The rebellion against Time Smith and the oppressive TRL is a testament to the resilience of those who dare to fight for freedom, even when the odds are stacked against them."
      },
      {
        title: "Time Smith's Revelation",
        keywords: ["time smith revelation", "twist", "truth", "antagonist twist", "redemption", "character arc", "revelation"],
        content: "In a shocking twist, Time Smith reveals his true intentions—challenging the perception of villainy and exposing the dark truths behind the rebellion. This revelation redefines the conflict and reshapes destinies."
      },
      {
        title: "Character Profile: Yaee",
        keywords: ["yaee profile", "character yaee", "main hero", "vigilante", "bear", "rebellion", "vengeful"],
        content: "A deep dive into Yaee's character—his tragic past, fierce determination, and the inner turmoil that fuels his relentless quest for justice and revenge against the forces that shattered his world."
      },
      {
        title: "Character Profile: Solus",
        keywords: ["solus profile", "character solus", "hermit", "mentor", "wise", "guide"],
        content: "Solus, the wise and mysterious hermit, offers cryptic guidance and a glimpse into a world of hidden magic and lost honor. His story is one of fallen greatness and reluctant redemption."
      },
      {
        title: "Character Profile: Time Smith",
        keywords: ["time smith profile", "character time smith", "antagonist", "complex villain", "tyrant", "revelation"],
        content: "Time Smith is a layered, multifaceted figure whose journey challenges conventional notions of good and evil. His enigmatic presence and eventual twist leave an indelible mark on the Dawntasy saga."
      },
      {
        title: "Secret Themes & Motifs",
        keywords: ["themes", "motifs", "secrets", "hidden symbols", "plain and pale clock", "fire", "water", "betrayal", "redemption"],
        content: "Dawntasy is rich with secret themes and recurring motifs—from the haunting Plain and Pale Clock symbolizing the passage of time, to the duality of fire and water representing destruction and renewal."
      }
      // Add further entries as needed for an even more exhaustive database...
    ];

    /************************************************************
     * SEARCH FUNCTIONALITY WITH EXTENSIVE KEYWORD MATCHING
     ************************************************************/
    const menuDiv = document.getElementById("menu");
    const searchingDiv = document.getElementById("searchingScreen");
    const resultsDiv = document.getElementById("resultsScreen");
    const resultsContainer = document.getElementById("resultsContainer");
    const searchInput = document.getElementById("searchInput");
    const searchBtn = document.getElementById("searchBtn");

    // Normalize string: lowercase and remove punctuation.
    function normalize(str) {
      return str.toLowerCase().replace(/[^\w\s]/g, "");
    }

    searchBtn.addEventListener("click", () => {
      const query = normalize(searchInput.value.trim());
      if (!query) return;
      // Hide menu, show searching screen
      menuDiv.style.display = "none";
      resultsDiv.style.display = "none";
      searchingDiv.style.display = "block";
      // Simulate a search delay (3 seconds)
      setTimeout(() => {
        performSearch(query);
      }, 3000);
    });

    function performSearch(query) {
      const results = dawntasyDB.filter(entry => {
        // Normalize title and content
        const normTitle = normalize(entry.title);
        const normContent = normalize(entry.content);
        // Check if query is in title or content
        if (normTitle.includes(query) || normContent.includes(query)) return true;
        // Check each keyword
        for (let kw of entry.keywords) {
          if (normalize(kw).includes(query)) return true;
        }
        return false;
      });
      // Hide searching screen, show results screen
      searchingDiv.style.display = "none";
      resultsDiv.style.display = "block";
      // Render results
      resultsContainer.innerHTML = "";
      if (results.length === 0) {
        resultsContainer.innerHTML = "<p>No results found for your query.</p>";
      } else {
        results.forEach(entry => {
          const div = document.createElement("div");
          div.className = "resultEntry";
          div.innerHTML = `<h3>${entry.title}</h3><p>${entry.content}</p>`;
          resultsContainer.appendChild(div);
        });
      }
    }

    function goBack() {
      // Clear search input and show menu again
      searchInput.value = "";
      resultsDiv.style.display = "none";
      menuDiv.style.display = "block";
    }
  </script>
</body>
</html>
